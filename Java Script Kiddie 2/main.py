
import sys
import string


def toList(mystr, base=16):
    mystr = mystr.split(' ')
    mystr = map(lambda x: int(x, base), mystr)
    return list(mystr)


LEN = 16
mybytes = '209 137 234 71 164 223 223 69 251 63 89 129 18 114 110 227 191 31 222 114 227 57 73 10 250 234 237 123 96 130 235 151 57 61 0 2 0 84 26 114 127 185 174 254 73 72 0 0 141 55 78 223 13 52 1 65 78 2 0 158 0 192 68 82 127 131 1 220 0 141 68 82 0 68 0 133 155 77 95 108 137 80 0 5 101 0 200 144 1 0 156 66 138 125 110 227 0 0 133 231 27 10 6 229 84 0 0 13 157 182 179 185 164 0 148 3 192 0 96 188 6 120 208 0 69 210 153 182 48 12 90 126 185 73 96 108 241 230 128 237 188 241 12 133 154 125 252 186 83 25 233 0 91 186 27 57 223 198 198 223 104 234 173 90 102 90 45 143 241 60 32 79 137 185 29 245 207 216 96 36 144 48 91 100 196 198 0 32 142 80 119 2 227 153 73 36 229 56 201 167 134 74 230 111 191 139 178 7 24 255 73 252 214 146 155 221 241 5 30 148 191 252 247 17 224 36 149 196 79 36 110 66 183 15 55 2 151 248 176 56 56 122 156 166 233 191 149 30 227 183 99 67 219 40 146 120 152 251 132 4 34 28 201 227 31 235 32 227 112 226 62 154 97 184 63 185 207 175 126 232 248 212 7 254 77 132 136 92 189 0 165 27 62 90 219 154 0 43 138 252 223 177 206 189 126 227 35 95 92 132 17 172 239 66 126 0 29 77 212 252 68 147 232 60 23 36 19 4 61 88 31 142 208 84 191 241 3 224 246 73 156 172 243 120 252 158 172 223 90 92 193 193 164 174 32 147 252 169 170 57 88 171 58 227 107 115 118 183 239 88 179 190 202 242 23 88 163 138 177 52 170 201 252 122 252 219 183 109 190 114 60 154 48 120 159 5 5 96 171 90 197 111 111 255 60 235 233 231 96 15 77 66 207 69 80 180 201 226 77 126 212 112 228 250 171 39 46 178 88 3 86 185 132 197 254 33 148 250 215 18 5 170 165 189 59 97 91 2 251 183 54 228 54 110 114 221 220 82 87 205 222 69 203 207 152 237 105 78 197 207 248 131 249 21 132 134 126 59 2 46 106 166 59 29 156 223 207 75 230 78 255 179 187 20 191 74 141 242 2 191 71 198 167 53 244 115 183 148 99 252 191 100 2 88 17 127 101 225 43 110 44 24 247 230 159 179 99 249 93 209 46 227 52 68 155 73 159 63 201 88 70 174 114 211 239 196 87 67 241 205 193 197 249 131 229 206 119 114 170 108 149 24 46 223 211 53 67 29 45 43 126 214 94 107 25 87 41 29 219 255 235 249 14 64 90 157 190 180 28 203 252 154 126 213 230 93 221 111 11 60 181 92 7 209 230 73 58 116 154 127 231 130 194 31 189 126 164 101 233 173 0 224 214 242 127 155 140 231 18 124 154 147 158 75 57 145 233 121 34 230 176 253 64 120 211 112 230 182 72 37 198 242 49 252 244 156 115 122 41 0 255 15 137 157 227 251 49 66 246 255 203 250'
top = '89 50 4E 47 0D 0A 1A 0A 00 00 00 0D 49 48 44 52'
top = toList(top, 16)
mybytes = toList(mybytes, 10)


downsample = '49454E44AE426082'

possibles = []

for tidx, tVal in enumerate(top):
    items = []
    for shifter in range(0, 99+1):
        if tVal == mybytes[((shifter * LEN) % len(mybytes)) + tidx]:
            items.append(shifter)
    possibles.append(items)


downitems = []
for idx, shifters in enumerate(possibles):
    j = (len(mybytes) // LEN) - 1
    items = []
    for shifter in shifters:
        d = mybytes[(((j + shifter) * LEN) % len(mybytes)) + idx]
        items.append(hex(d))
    downitems.append(items)


print(downitems)
#down = '7f 83 00 00 00 00 49 45 4E 44 AE 42 60 82 00 00'







